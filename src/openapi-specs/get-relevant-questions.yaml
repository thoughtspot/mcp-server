openapi: 3.0.0
info:
  title: ThoughtSpot API
  version: 1.0.0
  description: API for interacting with ThoughtSpot services

servers:
  - url: https://thoughtspot-mcp-server-open-api.thoughtspot-485.workers.dev
    description: ThoughtSpot agent url

paths:
  /api/tools/relevant-questions:
    post:
      summary: Get relevant questions
      description: Returns a list of relevant questions based on the input query and datasources
      operationId: getRelevantQuestions
      tags:
        - Tools
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/GetRelevantQuestionsRequest'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GetRelevantQuestionsResponse'
        '400':
          description: Bad request - Invalid input parameters
        '401':
          description: Unauthorized - Invalid or missing authentication
        '500':
          description: Internal server error

components:
  schemas:
    GetRelevantQuestionsRequest:
      type: object
      required:
        - query
      properties:
        query:
          type: string
          description: The search query to find relevant questions
          example: "Show me sales trends"
        datasourceIds:
          type: array
          description: List of datasource IDs to search within
          items:
            type: string
          example: ["123e4567-e89b-12d3-a456-426614174000", "987fcdeb-51d3-a456-426614174000"]
        additionalContext:
          type: string
          description: Additional context to help find relevant questions
          example: "Looking for monthly trends in the last quarter"

    GetRelevantQuestionsResponse:
      type: array
      items:
        type: object
        properties:
          question:
            type: string
            description: The relevant question
            example: "What are the monthly sales trends for the last quarter?"
          confidence:
            type: number
            description: Confidence score of the question relevance
            example: 0.85
          datasourceId:
            type: string
            description: The datasource ID this question is most relevant to
            example: "123e4567-e89b-12d3-a456-426614174000"